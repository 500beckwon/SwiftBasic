# 이론학습 (Theory)

## 참조란 무엇인가?
- 변수 b에 먼저 선언된 변수 a를 할당한 후 변수 a의 담딘 객체 값이 변경되면 b도 a와 같은 값을 가지고 있는 것을 참조라 한다.

```swift
var a = 1
var b = a 
a = 2 
print(b) // 2
```
---

## Swift에서 참조타입이란?
- 값을 별도의 메모리 공간(heap)에 저장하고 메모리의 주소를 변수명과 함께 (stack)에 저장하는 타입을 의미힌다.
- 참조 타입을 다른 변수에 할당하면, 인스턴스가 아닌 주소값을 복사한다. 두 변수는 모드 같은 데이터를 가르키게 된다.
- class 키워드로 생성한 모든 타입은 참조 타입이 된다
- 특정 변수에 저장된 function이나 closure를 다른 변수로 복사한다면 데이터를 복사하지 않고 참조만 공유한다.

## Collection은 값타입이면서 참조타입이기도 하다
- Array나 String은 많은 값을 내부에 포함하고 있다. 복사를 할 때마다 매번 이 값을 다 복사하면 시간이나 공간의 부담이 크다. 이런 이유로 swift는 cow(Copy on write)라는 방법을 사용한다
- 할당이 발생해도 변경은 그보다 적게 발생하여 비용을 줄일 수 있다
- 변경이 발생하면 새로운 값을 복사하되 원본은 변하지 않는다. 이를 통해 불변성을 유지할 수 있다
- 불변성을 가지면서도 힙에 저장되는 경우는 Swift Collection type, struct 안의 class, class/closure 안의 struct, Protocol type 등이 있다.


## 메모리 영역




### 용어들 뜻
- Allocation: 할당
- Overhead: 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간·메모리